# Server Configuration
PORT=4000
NODE_ENV=development

# MongoDB Configuration
MONGODB_URI=mongodb://username:password@host:port/database?authSource=admin

# JWT Configuration
# IMPORTANT: Use a strong, random secret key (minimum 32 characters)
# Generate a secure secret: openssl rand -base64 32
JWT_SECRET=your_jwt_secret_here_minimum_32_characters_long
# JWT token expiration time (examples: 15m, 1h, 7d, 30d)
JWT_EXPIRATION=15m

# Refresh Token Configuration
# Refresh token expiry in days
REFRESH_TOKEN_EXPIRY_DAYS=30

# Email Verification Configuration
# Verification token expiry in hours
EMAIL_VERIFICATION_EXPIRY_HOURS=24

# Email Service Configuration (for future implementation)
# SMTP_HOST=smtp.example.com
# SMTP_PORT=587
# SMTP_USER=your_email@example.com
# SMTP_PASS=your_email_password
# SMTP_FROM_EMAIL=noreply@example.com
# SMTP_FROM_NAME=Currency App

# Frontend Configuration (for CORS)
# Multiple origins can be specified separated by commas
FRONTEND_URL=http://localhost:3000,http://46.34.163.223

# API Configuration
API_PREFIX=api

# Navasan API Configuration
# Get your free API key from: https://navasan.tech
# Free tier: 120 calls/month
NAVASAN_API_KEY=your_navasan_api_key_here

# Wallet Configuration
# Default wallets are automatically created for new users with 0 balance
# Supported currencies: USD, EUR, BTC, ETH, USDT, SEKKEH
# To create wallets for existing users, run: npm run create-wallets

# ===== Scheduler Configuration =====
# Enable/disable the scheduler
SCHEDULER_ENABLED=true

# Fetch interval in minutes
# Examples:
#   1 = Every minute (for testing/development)
#   5 = Every 5 minutes (frequent updates)
#   60 = Every hour (recommended for production)
#   180 = Every 3 hours (cost optimization)
SCHEDULER_INTERVAL_MINUTES=60

# Alternative: Use cron expression for advanced scheduling
# If set, this overrides SCHEDULER_INTERVAL_MINUTES
# Examples:
#   0 * * * * = Every hour at minute 0
#   */30 * * * * = Every 30 minutes
#   0 */3 * * * = Every 3 hours
#   0 9-17 * * 1-5 = Every hour from 9 AM to 5 PM on weekdays
SCHEDULER_CRON_EXPRESSION=

# Scheduler timezone
SCHEDULER_TIMEZONE=UTC

# ===== OHLC Configuration =====
# Enable/disable OHLC data collection
OHLC_COLLECTION_ENABLED=true

# Enable/disable real-time data collection (every minute)
OHLC_REALTIME_ENABLED=true

# Enable/disable automatic aggregation to higher timeframes
OHLC_AGGREGATION_ENABLED=true

# Backfill historical data on application startup
OHLC_BACKFILL_ON_STARTUP=false

# Data retention settings (in days)
# How long to keep high-frequency data before aggregating
OHLC_HIGH_FREQ_RETENTION_DAYS=30

# Overall OHLC data retention (0 = keep forever)
OHLC_RETENTION_DAYS=0

# Collection intervals (in minutes)
OHLC_MINUTE_COLLECTION_INTERVAL=1
OHLC_AGGREGATION_INTERVAL=5
OHLC_HOURLY_AGGREGATION_INTERVAL=60

# Daily aggregation hour (0-23, in UTC)
OHLC_DAILY_AGGREGATION_HOUR=0

# Data source priority (comma-separated)
# Options: db, api, cache
OHLC_DATA_SOURCE_PRIORITY=db,api,cache

# Enable/disable OHLC cleanup scheduler
OHLC_CLEANUP_ENABLED=true
